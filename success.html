<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>LyS Lavados â€“ Â¡Reserva hecha!</title>
<style>
  :root{--bg:#0f172a;--card:#0b1220;--line:#1f2937;--muted:#9ca3af;--ok:#22c55e;--ok-ink:#0b1220}
  body{
    font-family:system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Arial, sans-serif;
    background:var(--bg); color:#fff; margin:0; padding:24px
  }
  .wrap{ max-width:720px; margin:0 auto }
  .box{
    background:var(--card); border:1px solid var(--line);
    border-radius:16px; padding:20px
  }

  /* LOGO igual que en index/reserva */
  .brand__logo{
    height:120px; width:auto; display:block; margin:0 auto 16px auto;
    image-rendering:-webkit-optimize-contrast;
  }

  h1{ margin:6px 0 6px; font-size:22px; text-align:center }
  p.muted{ color:var(--muted); margin:0 0 16px; text-align:center }

  .card{
    border:1px solid var(--line); background:#0c1526;
    border-radius:12px; padding:14px 16px; margin-top:10px
  }
  .row{ display:flex; gap:10px; margin:6px 0; align-items:baseline }
  .lbl{ color:#9ca3af; min-width:92px; font-size:14px }
  .val{ color:#e5e7eb; font-weight:600 }

  .actions{ display:flex; gap:10px; margin-top:16px }
  .btn{
    flex:1; padding:12px 14px; border-radius:10px; border:1px solid var(--ok);
    background:var(--ok); color:var(--ok-ink); font-weight:800; cursor:pointer; text-align:center;
    text-decoration:none;
  }
  .btn.sec{
    background:transparent; color:#e5e7eb; border-color:#2a3a52
  }

  @media(max-width:600px){
    .brand__logo{ height:90px; margin-bottom:12px }
    .actions{ flex-direction:column }
  }
</style>
</head>
<body>
  <main class="wrap">
    <div class="box">
      <img src="logo-lys.png" alt="LyS Lavados" class="brand__logo">
      <h1>Â¡Reserva realizada!</h1>
      <p class="muted">Te vamos a escribir por WhatsApp para confirmar el turno. ðŸ‘Œ</p>

      <div id="detalles" class="card" style="display:none">
        <div class="row"><div class="lbl">Fecha</div><div class="val" id="v-fecha">â€”</div></div>
        <div class="row"><div class="lbl">Hora</div><div class="val" id="v-hora">â€”</div></div>
        <div class="row"><div class="lbl">Servicio</div><div class="val" id="v-servicio">â€”</div></div>
        <div class="row"><div class="lbl">Nombre</div><div class="val" id="v-nombre">â€”</div></div>
        <div class="row"><div class="lbl">DirecciÃ³n</div><div class="val" id="v-direccion">â€”</div></div>
      </div>

      <div id="sinDatos" class="card" style="display:none">
        <p class="muted" style="margin:0;text-align:left">
          No encontramos los datos de la reserva en este dispositivo. Si llegaste aquÃ­ por error,
          volvÃ© a la pÃ¡gina de reservas para generar un turno.
        </p>
      </div>

      <div class="actions">
        <a class="btn" href="reserva.html">Hacer otra reserva</a>
        <a class="btn sec" href="index.html">Volver al inicio</a>
      </div>
    </div>
  </main>

<script>
  // Formatea "YYYY-MM-DD" -> "Lun 05/09"
  const pad = n => String(n).padStart(2,'0');
  function niceFecha(iso){
    const [y,m,d] = iso.split('-').map(Number);
    const dt = new Date(y,(m||1)-1,d||1);
    const dias = ['Dom','Lun','Mar','MiÃ©','Jue','Vie','SÃ¡b'];
    return `${dias[dt.getDay()]} ${pad(d)}/${pad(m)}`;
  }

  (function init(){
    try{
      const raw = sessionStorage.getItem('lastBooking');
      const bloqueDatos = document.getElementById('detalles');
      const bloqueSin = document.getElementById('sinDatos');

      if(!raw){
        bloqueSin.style.display = 'block';
        return;
      }
      const b = JSON.parse(raw || '{}');
      if(!b || !b.fecha || !b.hora){
        bloqueSin.style.display = 'block';
        return;
      }

      document.getElementById('v-fecha').textContent = niceFecha(b.fecha);
      document.getElementById('v-hora').textContent = b.hora;
      document.getElementById('v-servicio').textContent = b.servicio || 'â€”';
      document.getElementById('v-nombre').textContent = b.nombre || 'â€”';
      document.getElementById('v-direccion').textContent = b.direccion || 'â€”';

      bloqueDatos.style.display = 'block';
    }catch(e){
      console.error(e);
      document.getElementById('sinDatos').style.display = 'block';
    }
  })();
</script>
</body>
</html>
